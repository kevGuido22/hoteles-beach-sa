@{
    ViewData["Title"] = "ObtenerInfo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<head>
    <link rel="stylesheet" href="~/css/createUser.css" asp-append-version="true" />
</head>

<body class="bg-light">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5 p-4 bg-white shadow rounded">
                <div class="text-center mb-4">
                    <h1 class="text-primary text-uppercase">Crear Cuenta</h1>
                    <h4 class="text-secondary">Por número de cédula</h4>
                </div>

                <hr />

                @if (TempData["Error"] != null)
                {
                    <div class="alert alert-danger text-center">
                        <strong>@TempData["Error"]</strong>
                    </div>
                }

                @if (TempData["Mensaje"] != null)
                {
                    <div class="alert alert-success text-center">
                        <strong>@TempData["Mensaje"]</strong>
                    </div>
                }

                <form asp-action="ObtenerInfo" method="post" id="formCedula" class="mt-4">
                    <div class="form-group mb-3">
                        <label for="cedula" class="form-label fw-bold">Cédula:</label>
                        <input type="text"
                               id="cedula"
                               name="cedula"
                               class="form-control"
                               placeholder="Ingresa la cédula"
                               maxlength="9"
                               minlength="9"
                               required />
                    </div>

                    <div class="d-flex justify-content-between mt-4">
                        <a onclick="goBack()" class="btn btn-outline-secondary">
                            Volver
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z" />
                                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466" />
                            </svg>
                        </a>
                        <button type="submit" class="btn btn-primary">
                            Buscar
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>

<script>
    document.getElementById("formCedula").addEventListener("submit", function (event) {
        const cedulaInput = document.getElementById("cedula");
        if (cedulaInput.value.length !== 9) {
            alert("La cédula debe tener 9 dígitos.");
            event.preventDefault();
        }
    });

    function goBack() {
        window.history.back();
    }
</script>
